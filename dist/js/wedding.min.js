function debounce(e,i,n){var t;return function(){var s=this,o=arguments,a=n&&!t;clearTimeout(t),t=setTimeout(function(){t=null,n||e.apply(s,o)},i),a&&e.apply(s,o)}}!function(e,i,n,t){function s(e){var i="./styles/images/gallery/";r=10,null!=c&&"church"==c&&(i="./styles/images/churchwedding/gallery/",r=5),n("#gallery-image").attr("src",i+e+".jpg"),n("#navigator > ul").children(".filled").removeClass("filled"),n('#navigator > ul > li[data-index="'+e+'"]').addClass("filled")}function o(){n("#modal").hide(),n("#picture-gallery").hide(),n("#rsvp-form").hide(),n("body").removeClass("noscroll"),n("#navigator > ul").empty()}function a(){n("body").addClass("noscroll"),n("#modal").show()}function l(e){var i=n("#rsvp-response-form");i.show();var t='<span>Your information has been found! Please ensure the following information is correct: </span><input type="hidden" name="guestPartyId" value='+e.guestPartyId+">",s=e.guestList;s&&(t+="<ul class='rsvp-guest-list'>",n.each(s,function(e,i){t+="<li class='rsvp-guest-list-names'>"+i.firstName+"&nbsp&nbsp&nbsp"+i.lastName+"</li>"}),t+="</ul>"),t+="<span>Will you be attending?</span><input type='radio' name='attending' value='true' checked>Yes</input><input type='radio' name='attending' value='false'>No</input>",e.plusOne&&(t+="<span >Bringing +1?</span><input type='radio' name='plusOneResponse' value='true' checked>Yes</input><input type='radio' name='plusOneResponse' value='false'>No</input><div id='plus-one-section'><input type='text' name='plusOneFirst'/ placeholder='First Name'><input type='text' name='plusOneLast' placeholder='Last Name'/></div>"),t+="<input type='submit' value='Confirm' id='rsvp-response-confirm'/>",i.append(t),i.on("click",'input[type="radio"][name="plusOneResponse"]',function(){"true"==this.value?$plusOneSection.show():$plusOneSection.hide()}),i.on("click",'input[type="radio"][name="plusOneResponse"]',function(){var e=i.find("#plus-one-section");"true"==this.value?e.show():e.hide()}),i.find("#rsvp-response-confirm").on("click",function(){var e=n("#rsvp-mad-lib-form");return n.ajax({method:"POST",url:"/rsvp/response",data:i.serializeFormJSON(),success:function(t,s,o){i.hide(),e.show(),t&&function(e){var i=n("#rsvp-mad-lib-form");n("#rsvp-mad-lib-groupid").val(e.guestPartyId),i.find("#rsvp-mad-lib-submit").on("click",function(){return n.ajax({method:"POST",url:"/rsvp/madlib",data:i.serializeFormJSON(),success:function(e,i,n){},error:function(e,i,n){console.error(n)}}),!1})}(t)},error:function(e,i,n){console.error(n)}}),!1})}e.outerWidth>1024&&n(".section-image").each(function(e){n(this).attr("src",n(this).attr("src").replace("1024","1600"))}),n("a").on("click",function(i){if(""!==this.hash){i.preventDefault();var t=this.hash;n("html, body").animate({scrollTop:n(t).offset().top,easing:"swing"},300,function(){e.location.hash=t})}}),n("#mobile-menu-icon").on("click",function(){n(this).toggleClass("toggle-menu"),n("#top-nav").slideToggle()}),e.outerWidth<=768&&n("#top-nav > li > a ").on("click",function(){n("#mobile-menu-icon").toggleClass("toggle-menu"),n("#top-nav").slideToggle(200)}),n(this).scrollTop()>147&&n("#top-nav").addClass("scroll"),n(e).on("scroll",debounce(function(){n(e).scrollTop()>147&&e.outerWidth>768?n("#top-nav").addClass("scroll"):n("#top-nav").hasClass("scroll")&&n("#top-nav").removeClass("scroll")},100));var r,c,u=1;n("#view-gallery").on("click",function(){c=n(this).attr("data-type"),s(u);for(var e="<li class='filled' data-index='1'></li>",i=2;i<=r;i++)e+="<li data-index='"+i+"'></li>";n("#navigator > ul").append(e),a(),n("#picture-gallery").show()}),n("#navigator > ul").on("click","li",function(){var e=n(this);s(e.attr("data-index")),e.siblings(".filled").removeClass("filled"),e.addClass("filled")}),n("#left-arrow").on("click",function(){1==u?u=r:u--,s(u)}),n("#right-arrow").on("click",function(){u==r?u=1:u++,s(u)}),n("#close-modal").on("click",function(){o()}),n("#modal").on("click",function(e){e.target===this&&o()}),n(e).on("keyup",function(e){27==e.keyCode&&n("#modal").is(":visible")&&o()});var p=!1;n("#bridesmaid-pic-list").on("click","li",function(){if(!p){p=!0;var i=n(this);n("#bridesmaids-wrapper").addClass("selected");var t=i.position();i.css({left:t.left+"px",top:t.top+"px",opacity:".5"}).addClass("selected");var s=i.attr("id")+"-bio";n("#bridesmaids-bio").show().html(n("#"+s).html()),i.siblings(".selected").removeClass("selected").css({"margin-left":"",opacity:""}),i.animate({top:0,left:"50%","margin-left":e.outerWidth>1025?"-100px":"-62.5px",opacity:"1"},400,"swing",function(){p=!1})}});var d=!1;n("#groomsmen-pic-list").on("click","li",function(){var i=n(this);if(!i.hasClass("no-bio")&&!d){d=!0,n("#groomsmen-wrapper").addClass("selected");var t=i.position();i.css({left:t.left+"px",top:t.top+"px",opacity:".5"}).addClass("selected");var s=i.attr("id")+"-bio";n("#groomsmen-bio").show().html(n("#"+s).html()),i.siblings(".selected").removeClass("selected").css({"margin-left":"",opacity:""}),i.animate({top:0,left:"50%","margin-left":e.outerWidth>1025?"-100px":"-62.5px",opacity:"1"},400,"swing",function(){d=!1})}}),n("#rsvp-button").on("click",function(){a(),n("#rsvp-form-wrapper").show()}),n("#rsvp-name").on("click",function(){var e=n("#rsvp-form");return n.ajax({method:"POST",url:"/rsvp",data:e.serializeFormJSON(),success:function(i,n,t){i&&(e.hide(),l(i))},error:function(e,i,n){console.error(n)}}),!1})}(window,document,$),function(e){e.fn.serializeFormJSON=function(){var i={},n=this.serializeArray();return e.each(n,function(){i[this.name]?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i}}(jQuery);